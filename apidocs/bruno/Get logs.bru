meta {
  name: Get logs
  type: http
  seq: 3
}

get {
  url: {{API_BASE}}/logs?fields=created,message,level
  body: none
  auth: bearer
}

params:query {
  fields: created,message,level
}

auth:bearer {
  token: {{token}}
}

body:json {
  {
    "identity": "{{USERNAME}}",
    "password": "{{PASSWORD}}"
  }
}

vars:post-response {
  token: res.body.token
}

script:pre-request {
  await bru.runRequest('Authenticate')
}

settings {
  encodeUrl: true
  timeout: 0
}
